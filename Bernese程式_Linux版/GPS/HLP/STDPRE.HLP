<html>
<body>

<center>
<b>CONVERT STANDARD TO PRECISE ORBITS</b>
<p>Program: STDPRE
</center>
<hr width="100%">

<a name="ENVIRONMENT"   default="%% %%"></a>
<a name="CAMPAIGN"      default=""></a>
<a name="SESSION_TABLE" default="SESSIONS"></a>
<a name="YR4_INFO"      default="$Y+0"></a>
<a name="SES_INFO"      default="$S+0"></a>
<a name="USR_INFO"      default="${USER}"></a>
<a name="WRITEE"        default="0"></a>

<a name="SHOWILRS" default="0"></a>
<a name="BENCH"    default="0"></a>
<a name="ORBILRS"  default=""></a>

<p><b>GENERAL DESCRIPTION</b>
<p>
With this program you may transform the Bernese standard orbit files
into the precise orbit format. You may use either the SP1- or
SP3-format.
Nowadays, the SP3- resp. SP3c-format is mostly used because it may contain
satellite clock information.
<br>
The precise orbit format is an internationally used orbit exchange format
for GPS/GLONASS satellites. A format description may be downloaded from the
ftp server of the IGS Central Bureau.

<p><hr>

<p><b>STDPRE 1: Filenames</b>

<a name="SHOWGEN" default="1"></a>
<p><b>GENERAL FILES</b>
<p><b>Show all general files:</b>
Check this box to get a list of the general input files used by this program
as well as the currently active campaign, session, and session table.

<br><br>

<a name="STDORB" default=""></a>
<p><b>INPUT FILES</b>
<p><b>Standard orbits:</b>
Select the input standard orbit file.
<br>
If you estimated (improved) orbits you have an element file available.
You had to use this file in an orbit update step generating a new standard
orbit (program <a href="PGMLST.HLP#ORBGEN">ORBGEN</a>).
This is the standard orbit file you should use here.

<a name="IMPELE" default=""></a>
<p><b>Orbital elements file:</b>
Here you select the orbital elements
file which you used to generate the selected standard orbit. This is only
necessary if you want to have accuracy codes in the resulting precise
orbit file. Optionally the program
<a href="PGMLST.HLP#PREWEI">PREWEI</a> may be used to put accuracy codes into
your precise orbits file or to modify existing codes.

<p><a href="/$X/DOC/EXAMPLE.ELE">Example</a>

<a name="SATCLK" default=""></a>
<p><b>Satellite clocks:</b>
Selection of the input satellite clock corrections. If you want to generate
a precise file in the <i>sp3</i>-format including clock information you have
to specify a satellite clock file here.

<p><a href="/$X/DOC/EXAMPLE1.CLK">Example</a>

<a name="POLE" default=""></a>
<p><b>Pole file:</b>
This file contains the Earth rotation parameters (ERP's). It is used for
the transformations between the International Celestial Reference Frame
(ICRF) and the International Terrestrial Reference Frame (ITRF).

<p><i>Remark:</i>
If you estimated (improved) orbits and at the same time
estimated Earth orientation parameters you should use your estimated ERP
values here.

<p><a href="/$X/DOC/EXAMPLE.ERP">Example</a>

<a name="OCNLOAD" default=""></a>
<p><b>Ocean loading corr.:</b>
This ocean tidal loading file (BLQ) has to contain CMC coefficients. It is
needed for transformation of center of mass corrected orbits into a crust fixed
coordinate system. The program automatically applies the transformation, if the
selected standard orbit file contains CMC corrected orbits. Be sure to select
the same file as for the programs used to generate the orbit file.

<a name="ATMLOAD" default=""></a>
<p><b>Atmospheric loading corr.:</b>
This atmospheric tidal loading file (BLQ) has to contain CMC coefficients.
It is needed for transformation of center of mass corrected orbits into a
crust fixed coordinate system. The program automatically applies the
transformation, if the selected standard orbit file contains CMC corrected
orbits. Be sure to select the same file as for the programs used to generate
the orbit file.

<p><i>Remark:</i>
This file can be generated by the program
<a href="PGMLST.HLP#GRDS1S2">GRDS1S2</a>

<p><a href="/$X/DOC/EXAMPLE.ATL">Example</a>

<a name="CSYSTEM_CRD" default=""></a>
<p><b>Coordinate file:</b>
The identification string for the local geodetic datum (reference frame) of
the ouput precise orbit file can be taken from this input coordinate file.

<p><a href="/$X/DOC/EXAMPLE.CRD">Example</a>

<br><br>

<a name="PREOUT" default=""></a>
<p><b>RESULT FILES</b>
<p><b>Precise orbits output file:</b>
Selection of the name of the resulting precise output orbit file.

<br><br>

<a name="SYSODEF" default="1"></a>
<a name="SYSOUT"  default="STDPRE"></a>
<p><b>GENERAL OUTPUT FILES</b>
<p><b>Program output:</b>
You can choose to have the program output written to a separate file for each
program run (checkbox marked), or specify a common name for all program runs.
<br>
If you mark the checkbox, the filename will correspond to the program name
with an extension containing a counter (Lnn), which is automatically
incremented for each program run. If the counter reaches the maximum value, it
is automatically reset, and existing files will be overwritten.
The maximum value can be set in
<b>Menu &gt; Configure &gt; Program Names</b>, option "Maximum program output
file number".
<br>
If the checkbox is unmarked, you have to specify a name for the program
output file. This allows to characterize the program run, e.g., by using the
day and year (<tt>$YD+0</tt>) in the filename.

<a name="ERRMRG" default="0"></a>
<a name="SYSERR" default="ERROR"></a>
<p><b>Error messages:</b>
You can choose to have error messages written into the program's output
file (see above), or specify a separate file to which error messages are
written.

<br><br>

<a name="TITLE" default=""></a>
<p><b>TITLE</b>
<p>
This title line will be printed as header comment into the program output.
The title should characterize the program run by, e.g., giving the most
important options used and the session.

<p><hr>

<p><b>STDPRE 1.1: General Files</b>

<a name="CONST" default="CONST."></a>
<p><b>GENERAL INPUT FILES</b>
<p><b>General constants:</b>
This file contains all the physical and astronomical constants used
in the Bernese GNSS Software. Most probably you will never have to
modify this file.

<p>Example: <a href="/$X/GEN/CONST.">$X/GEN/CONST.</a>

<a name="SATELL" default="SATELLIT.I08"></a>
<p><b>Satellite information:</b>
This file contains general information on GNSS (and LEO/GEO) satellites
and is needed to extract the antenna model for the SP3 file header.
You have to specify the same satellite information file used in your
entire processing.

<p>Example: <a href="/$X/GEN/SATELLIT.I08">$X/GEN/SATELLIT.I08</a>

<a name="SUBMOD" default="IERS2010XY"></a>
<p><b>Subdaily pole model:</b>
This file contains the parameters for the subdaily pole model. It
has to be identical to the one used for the computation of the
standard orbit.

<p>Example: <a href="/$X/GEN/IERS2010XY.SUB">$X/GEN/IERS2010XY.SUB</a>

<a name="NUTMOD" default="IAU2000R06"></a>
<p><b>Nutation model:</b>
This file contains the parameters for the nutation model. It
has to be identical to the one used for the computation of the
standard orbit.

<p>Example: <a href="/$X/GEN/IAU2000R06.NUT">$X/GEN/IAU2000R06.NUT</a>

<a name="SATCRUX" default="SAT_$Y+0"></a>
<p><b>Satellite problems:</b>
This file contains information on satellite problems concerning modeling.
It is used for exclusion of misbehaving satellites
(and for orbit arc splitting).
It may also contain (mean) epochs of GPS repositioning events.

<p><i>Note:</i>
Corresponding year-specific files are maintained by AIUB/CODE.
You can get the latest version of the current file from the
<a href="/$X/DOC/README_AIUB_AFTP.TXT">anonymous ftp</a> account of AIUB.

<p>Example: <a href="/$X/GEN/SAT_2011.CRX">$X/GEN/SAT_2011.CRX</a>

<p><i>Default value:</i> <tt>SAT_$Y+0</tt>

<a name="GPSUTC" default="GPSUTC."></a>
<p><b>GPS-UTC time difference:</b>
Select the file with GPS-UTC values here. You have to update this file each
time a leap second is introduced.

<p>Example: <a href="/$X/GEN/GPSUTC.">$X/GEN/GPSUTC.</a>

<p><hr>

<p><b>STDPRE 2: Options</b>

<a name="FORMAT" default="SP3C"></a>
<p><b>TYPE OF PRECISE EPHEMERIS FILE</b>
<p><b>Format type:</b>
Selection of the format for the output file.
SP1 is the <b>OLD</b> format and is no longer in use. It was replaced by the
newer <b>SP3</b> format. The main difference between SP1 and SP3 is that
satellite clock information may be included in the SP3 format.
Moreover, there are more digits
for the satellite information. The new version of SP3 is called <b>SP3C</b>.
It allows to include GLONASS (as already SP3b) and LEO orbits and may contain
additional information such as epoch-wise accuracy and covariance information,
prediction flags for orbits and clocks, and maneuver flags.
For details see
<a href="LINKS.HLP#SP3">SP3</a> and <a href="LINKS.HLP#SP3c">SP3c</a>.

<p><i>Default value:</i> <tt>SP3C</tt>

<a name="VELOCITIES" default="0"></a>
<p><b>Write the velocities:</b>
The SP3 and SP3c formats allow to include satellite velocities. Usually this
information is not provided in precise orbit files, however.

<p><i>Default value:</i> <tt>unmarked</tt>

<br><br>

<a name="SSYSTEM" default="ALL"></a>
<p><b>SATELLITES TO BE INCLUDED IN THE PRECISE EPHEMERIS FILE</b>
<p><b>Satellite system:</b>
Selection of the satellite systems to be included in the precise ephemeris
file. Inclusion of <b>GLONASS</b> and <b>GALILEO</b> satellites into the precise ephemeris
file is not supported for the SP1-format.

<p><i>Default value:</i> <tt>ALL</tt>

<br><br>

<a name="TABINT" default="900"></a>
<p><b>TABULAR INTERVAL</b>
<p>
The interval between subsequent satellite positions in the output file.
Within the IGS the tabular interval was agreed to be 15&nbsp;min (900&nbsp;sec).

<p><i>Default value:</i> <tt>900</tt>

<br><br>

<a name="USEWIN" default="0"></a>
<p><b>Specify a time window:</b>
Usually all epochs in the standard orbit file are written to the precise file.
Mark this checkbox to enter a time window specifying the epochs written to
the precise file.

<p><i>Remark:</i>
The time window has to overlap with the time interval
covered by the standard orbit. Otherwise no precise file will be written.

<p><i>Default value:</i> unmarked

<br><br>

<a name="FITORB" default="999"></a>
<a name="FITCLK" default="999"></a>
<p><b>LENGTH OF FIT INTERVAL</b>
<p>
The following options concern the prediction flags for orbits and clocks
that may be written to the SP3c precise file. The values entered into the
following two input fields specify the time interval in hours between the
start of the time window or the beginning of standard orbit (i.e., the start
of the precise file) and the end
of the fit interval. If, e.g., <tt>24</tt> is specified,
all epochs after <tt>TSTART&nbsp;+&nbsp;24h</tt> will be marked with a prediction flag
in the output precise file. A value of <tt>999</tt> deactivates the option.

<p><b>For orbits:</b>
Specify the time interval in hours between the start of the time window or
the beginning of standard orbit (start of the precise file) and
the beginning of the prediction interval for the satellite orbits.

<p><i>Default value:</i> <tt>999</tt>

<p><b>For clocks: </b>
Specify the time interval in hours between the start of the time window or
the beginning of standard orbit (start of the precise file) and
the beginning of the prediction interval for the satellite clocks.
<p>
<i>Default value:</i> <tt>999</tt>

<a name="NOPRED" default="0"></a>
<p><b>No prediction if observed for less than:</b>
This option allows to reject predictions for satellites observed for a short
time interval only. Specify the length of this time interval (in hours)
in this input field.
<br>
If a satellite is removed through the satellite problem file (input field
"Satellite problems" in the "GENERAL INPUT FILES" section) between the epochs
<tt>TSTART&nbsp;+&nbsp;TFIT&nbsp;-&nbsp;TPRED</tt> and <tt>TSTART&nbsp;+&nbsp;TFIT</tt> no prediction for this particular satellite
will be written into the resulting precise orbit file.
<br>
<tt>TSTART</tt> is the start of the time window or the beginning of standard orbit,
<tt>TFIT</tt> is the orbit fit time interval specified in the field "For orbits"
above, and <tt>TPRED</tt> is specified in this field.
<br>
A value of <tt>0</tt> deactivates the option.

<p><i>Default value:</i> <tt>0</tt>

<p><hr>

<p><b>STDPRE 2.1: Options for Old Formatted Precise Orbit File</b>

<a name="RSYSTEM" default="90"></a>
<p><b>Reference system:</b>
Identification of the Terrestrial Reference Frame for the orbits.
<br>
If you fixed, e.g., stations on their ITRF'93 coordinates the reference
frame of the orbits would be <tt>ITR93</tt>.

<p><i>Default value: </i> <tt>90</tt>

<a name="AGENCYO" default=""></a>
<p><b>Agency:</b>
Identification of the institute which created this precise file.
For files created by the Astronomical Institute in Bern we use <tt>AIB</tt>.

<a name="ORBTYPO" default=""></a>
<p><b>Orbit type:</b>
Identification of the orbit solution type using one character. Some
possibilities are, e.g., <b>F</b>, <b>B</b>, <b>E</b> for orbital fit, broadcast orbit, and
orbit extrapolation respectively.

<p><hr>

<p><b>STDPRE 2.2: Options for New Formatted Precise Orbit File</b>

<a name="TITLE1" default=""></a>
<a name="TITLE2" default=""></a>
<a name="TITLE3" default=""></a>
<a name="TITLE4" default=""></a>
<p><b>Title 1</b>-<b>4:</b>
Up to four title lines which appear in the SP3-file.

<a name="TITOPT4" default="0"></a>
<p><b>Model identifiers in last title line:</b>
Mark this checkbox to write into the last title line of the SP3-file header
identifiers for used models (as defined by the IGS). The model identifiers
<tt>antenna PCV model</tt>, <tt>ocean tide loading model</tt> and whether CMC
is applied or not for orbit estimation are automatically inserted.
Information concerning the clocks can be selected from the combobox below.

<a name="CLKINFO" default="N/A"></a>
<p><b>CLK info:</b>
For characterisation of (included) clocks, choose an arbitrary three
character identification or select one from the combobox:
<ul>
<li><b>N/A:</b> No clocks in file
<li><b>BRD:</b> Broadcast clocks included
<li><b>CoN:</b> Clocks refer to Center of Network
<li><b>CoM:</b> Clocks refer to Center of Mass
</ul>
This combobox is active, if "Model identifiers in last title line"
is marked.

<a name="CSYSTEM" default="IGS08"></a>
<p><b>Reference system:</b>
Identification of the Terrestrial Reference Frame for the orbits.
<br>
If you fixed, e.g., stations on their ITRF2008 coordinates the reference
frame of the orbits would be <b>ITR08</b>.

<p><i>Default value:</i> <tt>IGS08</tt>

<a name="AGENCYN" default=""></a>
<p><b>Agency:</b>
Identification of the institute which created this precise file.
For files created by the Astronomical Institute in Bern we use <tt>AIUB</tt>.

<a name="ORBTYPN" default=""></a>
<p><b>Orbit type:</b>
Identification of the orbit solution type using three characters.
Predefined are <b>FIT</b> (fitted), <b>EXT</b> (extrapolated or predicted),
<b>BCT</b> (broadcast), and <b>HLM</b> (fitted after applying a Helmert
transformation).

<a name="TIMESYS" default="GPS"></a>
<p><b>Time system:</b>
The time system has to be consistent with the time system in which the
standard orbit is represented. This is in most cases <b>GPS</b> time (except for
<b>GLO</b>NASS only processing).

<p><i>Default value:</i> <tt>GPS</tt>

<a name="DATTYP" default="PHASE"></a>
<a name="DATDIF" default="DOUBLE"></a>
<p><b>Data description</b>
Identification of the observations used to generate the orbit. First, you can
specify the measurement type (<b>PHASE</b>, <b>CODE</b>, <b>BOTH</b>,
<b>RANGE</b>) that was used. In the case of GNSS measurement types
(<b>PHASE</b>, <b>CODE</b>, <b>BOTH</b>) you can additionally specify the
difference-level (<b>ZERO</b>, <b>SINGLE</b>, <b>DOUBLE</b>).

<p><hr>

<p><b>STDPRE 2.3: Observation Window</b>

<a name="RADIO_1" default="1"></a>
<p><b>OBSERVATION WINDOW</b>
<p>
This panel allows to specify a time window. Only epochs within this
time window and covered by the standard orbit are written to the precise
orbit file.
<br>
You may define the time window either by using session definitions, or by
explicitly specifying start and end times.

<p><i>Remark:</i>
The time window has to overlap with the time interval
covered by the standard orbit. Otherwise no precise file will be written.

<a name="SESSION_YEAR" default="$Y+0"></a>
<a name="SESSION_STRG" default="$S+0"></a>
<p><b>Year and Session identifier:</b>
You may specify one session from the <a href="SESSIONS.HLP">session table</a>.
The boundaries of this session define the observation window. If you use an
open session table the year has to be specified in addition to the session
identifier. If you use a fixed session table the year is read from the session
definition and the value in the panel is ignored.
<br>
It is possible to specify a range of sessions using the corresponding
menu variable (<tt>$S+-</tt>). In this case the time window starts at the
beginning of the first session of the range and stops at the end of the last
session of the range. If you use an open session table the year should also
be given with the range variable (<tt>$Y+-</tt>).

<p><i>Default values:</i> Year: <tt>$Y+0</tt> session: <tt>$S+0</tt>

<a name="RADIO_2" default="0"></a>
<a name="STADAT"  default="$YMD_STR+0"></a>
<a name="STATIM"  default="00 00 00"></a>
<a name="ENDDAT"  default="$YMD_STR+0"></a>
<a name="ENDTIM"  default="23 59 59"></a>
<p><b>Start and End times:</b>
Specify date and time for the begin and the end of the observation window.
<br>
To specify a time window which is open on one side of the interval,
leave the corresponding input field for the start/end date empty. The
associated start/end time is then ignored.

<p><i>Default values for daily processing:</i> Start date: <tt>$YMD_STR+0</tt>,
start time: <tt>00&nbsp;00&nbsp;00</tt>, end date: <tt>$YMD_STR+0</tt>,
end time: <tt>23&nbsp;59&nbsp;59</tt>

<p><hr>

</body>
</html>
