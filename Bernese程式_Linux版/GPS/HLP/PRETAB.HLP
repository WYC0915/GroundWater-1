<html>
<body>

<center>
<b>CREATE TABULAR ORBITS</b>
<p>Program: PRETAB
</center>
<hr width="100%">

<a name="ENVIRONMENT"   default="%% %%"></a>
<a name="CAMPAIGN"      default=""></a>
<a name="SESSION_TABLE" default="SESSIONS"></a>
<a name="YR4_INFO"      default="$Y+0"></a>
<a name="SES_INFO"      default="$S+0"></a>
<a name="USR_INFO"      default="${USER}"></a>

<p><b>GENERAL DESCRIPTION</b>
<p>
The program PRETAB transforms precise orbit files, which are given in
either the <a href="LINKS.HLP#SP1">SP1</a> or <a href="LINKS.HLP#SP3">SP3</a>
format, into the tabular orbit format.
This conversion includes the transformation of the orbit information
from the Earth-fixed frame to the inertial frame.  In addition the program
can be used to extract the satellite clocks from precise orbit files and
write clock files in Bernese format. The tabular files can be used by the
program <a href="PGMLST.HLP#ORBGEN">ORBGEN</a> to generate standard orbit
files.

<p><hr>

<p><b>PRETAB 1: Filenames</b>

<a name="SHOWGEN" default="1"></a>
<p><b>GENERAL FILES</b>
<p><b>Show all general files:</b>
Check this box to get a list of the general input files used by this program
as well as the currently active campaign, session, and session table.

<br><br>

<a name="PREFIL" default=""></a>
<p><b>INPUT FILES</b>
<p><b>Precise ephemeris:</b>
Selection of the precise orbit file(s) you want to transform.

<a name="POLE" default=""></a>
<p><b>Pole file:</b>
Enter the name of the a priori pole file in Bernese format. For best
performance use the pole file which goes together with the precise file.
Pole files in the IERS format may be converted to Bernese format using
the program <a href="PGMLST.HLP#POLUPD">POLUPD</a>.
<br>
The file specified here has to be selected as "Pole file" in all programs
where the tabular orbit or the corresponding standard orbit resulting from
program <a href="PGMLST.HLP#ORBGEN">ORBGEN</a> is used.
<br>
<a href="/$X/DOC/EXAMPLE.ERP">Example</a>

<a name="OCNLOAD" default=""></a>
<p><b>Ocean loading corr:</b>
If you want to apply center of mass correction (CMC) to the orbits, specify
the name of the ocean tidal loading file (BLQ) containing CMC coefficients.

<a name="ATMLOAD" default=""></a>
<p><b>Atmospheric loading corr:</b>
If you want to apply center of mass correction (CMC) to the orbits, specify
the name of the atmospheric tidal loading file (ATL) containing CMC
coefficients.
This field will be active if 'Apply ATL CMC correction' is marked.

<p><i>Remark:</i>
This file can be generated by the program
<a href="PGMLST.HLP#GRDS1S2">GRDS1S2</a>

<p><a href="/$X/DOC/EXAMPLE.ATL">Example</a>

<br><br>

<a name="TABFIL" default=""></a>
<p><b>RESULT FILES</b>
<p><b>Tabular file(s):</b>
Here you can specify the name of the resulting tabular orbit file.
If you leave this field empty the filenames will be the same as the
input filenames except for the extension.

<p><i>Remark:</i>
If you enter a name in this field only one file can be processed.

<p><i>Default value:</i> blank

<a name="SATCLRS" default=""></a>
<p><b>Satellite clock file:</b>
Request satellite clock information to be output to a file. If this field
remains empty no clock file will be created at all.

<p><i>Remark:</i>
If you want to be completely independent of broadcast
ephemeris or if you do not have broadcast ephemeris available, you have to
generate a satellite clock file here for later use in program
<a href="PGMLST.HLP#CODSPP">CODSPP</a> or
<a href="PGMLST.HLP#GPSEST">GPSEST</a>.

<p><a href="/$X/DOC/EXAMPLE1.CLK">Example</a>

<br><br>

<a name="SYSODEF" default="1"></a>
<a name="SYSOUT"  default="PRETAB"></a>
<p><b>GENERAL OUTPUT FILES</b>
<p><b>Program output:</b>
You can choose to have the program output written to a separate file for each
program run (checkbox marked), or specify a common name for all program runs.
<br>
If you mark the checkbox, the filename will correspond to the program name
with an extension containing a counter (Lnn), which is automatically
incremented for each program run. If the counter reaches the maximum value, it
is automatically reset, and existing files will be overwritten.
The maximum value can be set in
<b>Menu &gt; Configure &gt; Program Names</b>, option "Maximum program output
file number".
<br>
If the checkbox is unmarked, you have to specify a name for the program
output file. This allows to characterize the program run, e.g., by using the
day and year (<tt>$YD+0</tt>) in the filename.

<a name="ERRMRG" default="0"></a>
<a name="SYSERR" default="ERROR"></a>
<p><b>Error messages:</b>
You can choose to have error messages written into the program's output
file (see above), or specify a separate file to which error messages are
written.

<p><hr>

<p><b>PRETAB 1.1: General Files</b>

<a name="CONST" default="CONST."></a>
<p><b>GENERAL INPUT FILES</b>
<p><b>General constants:</b>
This file contains all the physical and astronomical constants used
in the Bernese GNSS Software. Most probably you will never have to
modify this file.

<p>Example: <a href="/$X/GEN/CONST.">$X/GEN/CONST.</a>

<a name="SUBMOD" default="IERS2010XY"></a>
<p><b>Subdaily pole model:</b>
This file contains the parameters for the subdaily pole model. This
file has to be selected as "Subdaily pole model" in all programs
where the tabular orbit or the corresponding standard orbit resulting from
program <a href="PGMLST.HLP#ORBGEN">ORBGEN</a> is used.

<p>Example: <a href="/$X/GEN/IERS2010XY.SUB">$X/GEN/IERS2010XY.SUB</a>

<a name="NUTMOD" default="IAU2000R06"></a>
<p><b>Nutation model:</b>
This file contains the parameters for the nutation model. This
file has to be selected as "Nutation model" in all programs
where the tabular orbit or the corresponding standard orbit resulting from
program <a href="PGMLST.HLP#ORBGEN">ORBGEN</a> is used.

<p>Example: <a href="/$X/GEN/IAU2000R06.NUT">$X/GEN/IAU2000R06.NUT</a>

<a name="SATCRUX" default="SAT_$Y+0"></a>
<p><b>Satellite problems:</b>
This file contains information on satellite problems concerning modeling.
It is used for exclusion of misbehaving satellites
(and for orbit arc splitting).
It may also contain (mean) epochs of GPS repositioning events.

<p><i>Note:</i>
Corresponding year-specific files are maintained by AIUB/CODE.
You can get the latest version of the current file from the
<a href="/$X/DOC/README_AIUB_AFTP.TXT">anonymous ftp</a> account of AIUB.

<p>Example: <a href="/$X/GEN/SAT_2003.CRX">$X/GEN/SAT_2003.CRX</a>

<p><i>Default value:</i> <tt>SAT_$Y+0</tt>

<p><hr>

<p><b>PRETAB 2: General Options</b>

<a name="TITLE" default=""></a>
<p><b>TITLE</b>
<p>
This title line will be printed as header comment into the program output
and will be saved in all the result files to document the program run.
The title should characterize the program run by, e.g., giving the most
important options used and the session.

<br><br>

<a name="SYSTEM" default="J2000"></a>
<p><b>GENERAL OPTIONS</b>
<p><b>Reference system:</b>
Selection of the inertial reference system of the tabular orbit file.
Always use <tt>J2000</tt>. The system <tt>B1950</tt> is no longer in use.

<p><i>Default value:</i> <tt>J2000</tt>

<a name="CMCYN_O" default="1"></a>
<a name="CMCYN_A" default="1"></a>
<p><b>Apply CMC correction:</b>
Mark the checkbox to apply ocean and/or atmospheric tidal loading center of
mass correction to the orbit positions.

<p><i>Default value:</i> marked

<br><br>

<a name="RMBAD" default="1"></a>
<p><b>SATELLITE OPTIONS</b>
<p><b>Remove bad satellites:</b>
Do not write satellites into tabular file which are marked as bad (problem
types 1, 2, or 3) in the satellite problem file (input field
"Satellite problems" in the "GENERAL INPUT FILES" section).

<p><i>Default value:</i> marked

<a name="USEAC" default="1"></a>
<p><b>Use accuracy codes from SP3-file:</b>
If this option is enabled the accuracy codes from the precise orbit file
will be used to determine if satellites should be excluded from the tabular
orbit file.

<p><i>Remark:</i>
This option is useful if satellites with accuracy code 0
or with a high accuracy code should be excluded from any further processing
(see following two option).

<p><i>Default value:</i> marked

<a name="MINAC" default="1"></a>
<p><b>Exclude sat. with accuracy code 0:</b>
Within the IGS accuracy code 0 indicates satellites with unverified accuracy.
For high precision applications such satellites should not be considered. If
this option is enabled, satellites with accuracy code 0 are excluded from the
tabular orbit file.

<p><i>Default value:</i> marked

<a name="MAXAC" default="99"></a>
<p><b>Exclude sat. with acc. code exceeding:</b>
Satellites with an accuracy code exceeding this value are excluded
from the tabular orbit file.

<p><i>Default value:</i> <tt>99</tt>

<p><hr>

<p><b>PRETAB 3: Options for Clocks</b>

<a name="INTERVAL" default="12"></a>
<p><b>OPTIONS FOR CLOCKS</b>
<p>
Satellite clock information may be available in precise ephemeris
files. In this case you have to create a satellite clock file for
later use, in particular for program <a href="PGMLST.HLP#CODSPP">CODSPP</a>.
(Alternatively you would have to use the clock information from broadcast
files using the program <a href="PGMLST.HLP#SATCLK">SATCLK</a>.)
<br>
Usually the clock information
in the precise orbit file is used to generate clock polynomials for
each satellite. The "Interval for polynomials" and the "Polynomial degree"
have to be defined. The polynomial representation of the satellite clocks
is proposed for the receiver clock synchronization in the program CODSPP
to make sure that values are available for all epochs.
<br>
In some cases it is possible to work with a data sampling rate equal
to that of the precise ephemerides (usually 15 min). Then it makes sense to
write to the clock file only the clock values for the epochs available in the
precise file. The "Interval for polynomials" as well as the "Polynomial degree"
have to be set to <tt>0</tt> in this case.
<br>
A precise point positioning (PPP) using the clocks provided from IGS
together with the consistent orbits and Earth orientation parameters is
expected to be at the one (or at least a few) centimeter level using the
program
<a href="PGMLST.HLP#GPSEST">GPSEST</a> (using a sampling of 15 minutes).
For a PPP with a 5 minutes sampling you are advised to use the IGS clocks
provided in the clock RINEX format (Use program
<a href="PGMLST.HLP#CCRNXC">CCRNXC</a> to import the values into Bernese
clock format).

<p><b>Interval for polynomials:</b>
Select the time interval for the clock polynomials. A time interval of
12-24 hours will be sufficient.

<p><i>Default value:</i> <tt>12</tt>&nbsp;hours

<a name="POLYDEGR" default="2"></a>
<p><b>Polynomial degree:</b>
Select the polynomial degree used for the clock polynomials. A degree of
1-3 will be fine.

<p><i>Default value:</i> <tt>2</tt>

<p><hr>

</body>
</html>
